<%- include('partials/newheader') -%>
<div class="container">
  <div class="">
      <div class="">
          <div id="user-greeting">
              <p><strong>Welcome back </strong> <%= user.realName %>!</p>
              <!-- <p><strong>Number of trips you've been on:</strong>: <%= user.trips %></p> -->
              <a href="/logout" class="btn btn-primary">Logout</a>
          </div>
          <div class="">
            <h2>My Trips</h2>
              <h5>You've been on <%=trips.length%> trips</h5>
            <a href="/trips/newtrip" class="btn btn-primary">Create a new trip</a>
          </div>
      </div>
      <div class="">
        <ul class="row list-unstyled">
        <% console.log(trips) %>
        </ul>
        <% for(var i=0; i<trips.length; i++) {%>
          <li class="trip-item ">
            <h3><%= trips[i].tripType %> trip to <%= trips[i].location %></h3>
            <p>Details: <%= trips[i].details %></p>
            <span>Started at <%=trips[i].createdAt%> and expected to return at <%=trips[i].returnTime%></span>
          </li>
        <% } %>
      </div>  
    </div>
  </div>
</div>

<!-- TODO: move and integrate with template -->
<div id="app"></div>
<!-- TEST -->
<!-- Load preview of image using jQuery -->
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>    function readURL(input) {
  if (input.files && input.files[0]) {
      var reader = new FileReader();
      
      reader.onload = function (e) {
          $('#blah').attr('src', e.target.result);
      }
      
      reader.readAsDataURL(input.files[0]);
  }
}

$("#imgInp").change(function(){
  readURL(this);
});</script> -->
<%- include('partials/footer') -%>